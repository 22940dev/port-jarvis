# netlify.sh downloads my custom Hugo fork and builds the site independently.
[build]
  command = "./scripts/netlify.sh"
  publish = "public"


# The most important headers and redirects are specified in the _headers and
# _redirects files generated by Hugo. These are additional custom redirects.

# Redirect default Netlify subdomain to primary domain:
[[redirects]]
  from = "https://jakejarvis.netlify.com/*"
  to = "https://jarv.is/:splat"
  status = 301
  force = true

# Support ancient RSS subscriptions from WordPress era:
[[redirects]]
  from = "/feed"
  to = "/index.xml"
[[redirects]]
  from = "/rss"
  to = "/index.xml"

# Moved Y2K site to its own subdomain:
[[redirects]]
  from = "/y2k/*"
  to = "https://y2k.jarv.is/:splat"
  status = 302

# Redirect iOS tracker files to their repo's GitHub Pages:
[[redirects]]
  from = "/ios-trackers/*"
  to = "https://jakejarvis.github.io/ios-trackers/:splat"
  status = 200

# H A C K E R M A N
[[redirects]]
  from = "/wp-login.php"
  to = "https://giphy.com/embed/RyXVu4ZW454IM"
  status = 302
