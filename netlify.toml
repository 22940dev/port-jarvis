
[build]
  command = "hugo --gc"
  publish = "public/"


[context.production.environment]
  HUGO_VERSION = "0.53"
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"

  [headers.values]
    Cache-Control = "max-age=3600, public"
    X-Frame-Options = "SAMEORIGIN"
    X-XSS-Protection = "1; mode=block; report=https://jarvis.report-uri.com/r/d/xss/enforce"
    Content-Security-Policy = "default-src 'none'; script-src 'self' stats.jarv.is 'sha256-QwZM+dNl2R1KcXo8ORmpT3mqAVwIBbEcJBmWYurBNv4='; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; object-src 'self'; media-src 'self'; base-uri 'none'; form-action 'self'; frame-src 'self'; frame-ancestors 'self'; worker-src 'none'; connect-src 'self' jarvis.report-uri.com stats.jarv.is; upgrade-insecure-requests; report-uri https://jarvis.report-uri.com/r/d/csp/enforce; report-to default"
    Report-To = "{\"group\":\"default\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://jarvis.report-uri.com/a/d/g\"}]}"
    NEL = "{\"report_to\":\"default\",\"max_age\":604800}"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "same-origin"
    X-DNS-Prefetch-Control = "off"
    X-UA-Compatible = "IE=edge"
    X-Permitted-Cross-Domain-Policies = "none"
    Feature-Policy = "accelerometer 'none'; camera 'none'; geolocation 'none'; gyroscope 'none'; magnetometer 'none'; microphone 'none'; sync-xhr 'none'; payment 'none'; usb 'none'; vr 'none'"





# Content-Type and Cache-Control

[[headers]]
  for = "*.ico"
  [headers.values]
    Content-Type = "image/x-icon"
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.svg"
  [headers.values]
    Content-Type = "image/svg+xml"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.ttf"
  [headers.values]
    Content-Type = "font/ttf"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.otf"
  [headers.values]
    Content-Type = "font/otf"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.eot"
  [headers.values]
    Content-Type = "application/vnd.ms-fontobject"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.woff"
  [headers.values]
    Content-Type = "font/woff"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.woff2"
  [headers.values]
    Content-Type = "font/woff"
    Cache-Control = "max-age=2628000, public"

[[headers]]
  for = "*.xml"
  [headers.values]
    Content-Type = "text/xml"
    Cache-Control = "max-age=3600, public"

[[headers]]
  for = "*.mp4"
  [headers.values]
    Content-Type = "video/mp4"
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.webm"
  [headers.values]
    Content-Type = "video/webm"
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.docx"
  [headers.values]
    Content-Type = "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.pdf"
  [headers.values]
    Content-Type = "application/pdf"
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.css"
  [headers.values]
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.js"
  [headers.values]
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.jpg"
  [headers.values]
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.png"
  [headers.values]
    Cache-Control = "max-age=604800, public"

[[headers]]
  for = "*.gif"
  [headers.values]
    Cache-Control = "max-age=604800, public"




[[headers]]
  for = "/jarvis.asc"
  [headers.values]
    Content-Type = "text/plain; charset=utf-8"
    Content-Disposition = "inline; filename=\"jarvis.asc\""
    Cache-Control = "max-age=0, no-store, no-cache, must-revalidate"